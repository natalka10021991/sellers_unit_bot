# Анализ WB API для интеграции категорий и комиссий

## Что нужно реализовать:

1. **Autocomplete с категориями товаров**
2. **Автоматическое заполнение комиссии WB по выбранной категории**

## Анализ WB API документации:

### 1. Категории товаров

**Возможные endpoints:**
- `/content/v1/object/all` - получение всех категорий
- `/content/v1/object/category/list` - список категорий
- `/content/v1/object/parent/all` - родительские категории

**Требования:**
- Нужен API токен от Wildberries
- Авторизация через токен продавца

### 2. Комиссии по категориям

**Раздел "Тарифы" в документации:**
- `/public/api/v1/info` - информация о тарифах
- `/supplier/tariffs` - тарифы продавца
- `/supplier/commission` - комиссии по категориям

**Важно:**
- Комиссия зависит от категории товара
- Обычно 15-25% в зависимости от категории
- Может меняться, нужно актуальное значение из API

## Архитектура решения:

### Вариант 1: Прямой запрос из Mini App (не рекомендуется)
- ❌ Проблема CORS
- ❌ Нужно хранить токен в клиенте (небезопасно)

### Вариант 2: Прокси через бота (рекомендуется) ✅
- ✅ Бот делает запросы к WB API
- ✅ Токен хранится на сервере
- ✅ Нет проблем с CORS
- ✅ Безопасно

## Что нужно сделать:

1. **В боте создать API endpoints:**
   - `GET /api/categories` - список категорий
   - `GET /api/commission/:categoryId` - комиссия для категории

2. **В Mini App:**
   - Компонент Autocomplete для категорий
   - Запрос к боту за категориями
   - Автоматическое заполнение комиссии при выборе

3. **Настройка:**
   - Получить API токен от WB
   - Добавить в .env бота

## Необходимые данные от WB:

1. **API Token** - токен для доступа к API
2. **Supplier ID** - ID продавца (опционально, для персональных тарифов)

## Следующие шаги:

1. Зарегистрироваться на https://dev.wildberries.ru/
2. Получить API токен
3. Изучить точные endpoints для категорий и комиссий
4. Реализовать прокси в боте
5. Добавить autocomplete в Mini App

