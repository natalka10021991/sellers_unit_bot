# WB Margin Bot üßÆ

Telegram –±–æ—Ç –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –º–∞—Ä–∂–∏ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ Wildberries.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìä –†–∞—Å—á–µ—Ç –º–∞—Ä–∂–∏ –∏ –Ω–∞—Ü–µ–Ω–∫–∏ —Ç–æ–≤–∞—Ä–∞
- üí∞ –£—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏ WB, –ª–æ–≥–∏—Å—Ç–∏–∫–∏ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è
- üéÅ 5 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üí≥ –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–∫–∏ (149‚ÇΩ/–º–µ—Å—è—Ü)
- üìà –ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
FREE_CALCULATIONS_LIMIT=5
SUBSCRIPTION_PRICE=14900
```

### 3. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
npm run dev
```

### 4. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–æ–¥–∞–∫—à–Ω

```bash
npm run build
npm start
```

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è |
| `/calculate` | –ù–∞—á–∞—Ç—å —Ä–∞—Å—á–µ—Ç –º–∞—Ä–∂–∏ |
| `/status` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏ |
| `/subscribe` | –û—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É |
| `/cancel` | –û—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–∞—Å—á–µ—Ç |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ |

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ bot.ts                    # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.ts                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ types.ts                  # TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îî‚îÄ‚îÄ db.ts                 # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ services/
    ‚îî‚îÄ‚îÄ margin-calculator.ts  # –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –º–∞—Ä–∂–∏
```

## –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞ –º–∞—Ä–∂–∏

```
–ü—Ä–∏–±—ã–ª—å = –¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ - –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å - (–¶–µ–Ω–∞ √ó –ö–æ–º–∏—Å—Å–∏—è%) - –õ–æ–≥–∏—Å—Ç–∏–∫–∞ - –•—Ä–∞–Ω–µ–Ω–∏–µ
–ú–∞—Ä–∂–∞ = (–ü—Ä–∏–±—ã–ª—å / –¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏) √ó 100%
```

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Node.js** + **TypeScript**
- **grammY** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram –±–æ—Ç–æ–≤
- **better-sqlite3** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **dotenv** - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –î–µ–ø–ª–æ–π

### Railway / Render

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `BOT_TOKEN`
3. –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞: `npm run build && npm start`

### VPS

```bash
git clone <repo>
cd telegram-bot
npm install
npm run build
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PM2 –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ —Ñ–æ–Ω–µ
pm2 start dist/bot.js --name "wb-margin-bot"
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π

1. –û—Ç–∫—Ä–æ–π—Ç–µ @BotFather –≤ Telegram
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
3. –ù–∞–∂–º–∏—Ç–µ "Payments"
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–ÆKassa, Stripe –∏ –¥—Ä.)
5. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –≤ `.env` –∫–∞–∫ `PAYMENT_PROVIDER_TOKEN`

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
